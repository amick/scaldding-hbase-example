package com.aca

import scala.io.Source
import java.util.Calendar
import java.util.Date
import java.text.SimpleDateFormat
import java.io.FileWriter

object CntlFile {

	def getValue(filename:String): String = {
		val fileContents = Source.fromFile(filename).getLines.mkString
		println("CURRENT control date = " + fileContents)
		fileContents
	}

	def update(filename:String, updateDate:Date) {
		val fw = new FileWriter(filename)

		// output date in MM/DD/YYYY HH24:MI:SS format
		val fmt = new SimpleDateFormat("MM/dd/yyyy HH:mm:ss")
		val dateTimeString = fmt.format(updateDate)

		fw.write(dateTimeString)
		fw.write(System.lineSeparator())
		fw.close()
		println("NEW control date = " + dateTimeString)
	}

	def update(filename:String) {
		this.update(filename, Calendar.getInstance().getTime())
	}
}
